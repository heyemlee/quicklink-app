# ğŸ“š é¡¹ç›®å®Œæ•´æ–‡æ¡£

> åç‰‡ç®¡ç†ç³»ç»Ÿ - å¤šç§Ÿæˆ· SaaS å¹³å°å®Œæ•´æŠ€æœ¯æ–‡æ¡£

## ç›®å½•

- [é¡¹ç›®æ¦‚è¿°](#é¡¹ç›®æ¦‚è¿°)
- [æŠ€æœ¯æ¶æ„](#æŠ€æœ¯æ¶æ„)
- [åŠŸèƒ½ç‰¹æ€§](#åŠŸèƒ½ç‰¹æ€§)
- [æ•°æ®åº“è®¾è®¡](#æ•°æ®åº“è®¾è®¡)
- [API æ¥å£](#api-æ¥å£)
- [å‰ç«¯ç»„ä»¶](#å‰ç«¯ç»„ä»¶)
- [ç¯å¢ƒé…ç½®](#ç¯å¢ƒé…ç½®)
- [å¼€å‘æŒ‡å—](#å¼€å‘æŒ‡å—)
- [å®‰å…¨è®¾è®¡](#å®‰å…¨è®¾è®¡)
- [å‰åç«¯åˆ†ç¦»æ–¹æ¡ˆ](#å‰åç«¯åˆ†ç¦»æ–¹æ¡ˆ)

---

## é¡¹ç›®æ¦‚è¿°

### ç®€ä»‹

è¿™æ˜¯ä¸€ä¸ªç°ä»£åŒ–çš„å¤šç§Ÿæˆ·åç‰‡ç®¡ç†ç³»ç»Ÿï¼Œå…è®¸ä¼ä¸šå®¢æˆ·ï¼š

- æ³¨å†Œç‹¬ç«‹è´¦å·
- è‡ªå®šä¹‰å“ç‰Œé…ç½®ï¼ˆLogoã€é¢œè‰²ã€å†…å®¹ï¼‰
- è·å¾—å”¯ä¸€çš„æ•°å­—åç‰‡é“¾æ¥
- ç®¡ç†ç¤¾äº¤åª’ä½“å’Œè¯„ä»·é“¾æ¥
- é›†æˆ AI ç”Ÿæˆè¯„ä»·å†…å®¹

### åº”ç”¨åœºæ™¯

- **SaaS åç‰‡æœåŠ¡** - ä¸ºå¤šä¸ªå®¢æˆ·æä¾›åç‰‡æ‰˜ç®¡
- **ä¼ä¸šå†…éƒ¨å·¥å…·** - å‘˜å·¥æ•°å­—åç‰‡ç®¡ç†
- **ä»£ç†å•†å¹³å°** - ä¸ºå®¢æˆ·æä¾›å“ç‰Œå±•ç¤ºé¡µé¢

### æ ¸å¿ƒä»·å€¼

- âœ… å¤šç§Ÿæˆ·æ¶æ„ï¼Œæ”¯æŒæ— é™å®¢æˆ·
- âœ… å®Œå…¨è‡ªå®šä¹‰ï¼Œæ¯ä¸ªå®¢æˆ·ç‹¬ç«‹å“ç‰Œ
- âœ… ç§»åŠ¨ä¼˜å…ˆï¼Œå®Œç¾é€‚é…å„ç§è®¾å¤‡
- âœ… AI å¢å¼ºï¼Œæ™ºèƒ½ç”Ÿæˆè¯„ä»·å†…å®¹
- âœ… ä¸€é”®åˆ†äº«ï¼Œæ‰«ç æˆ–é“¾æ¥è®¿é—®

---

## æŠ€æœ¯æ¶æ„

### æŠ€æœ¯æ ˆ

#### å‰ç«¯

- **Next.js 14** - React æ¡†æ¶ï¼ˆApp Routerï¼‰
- **React 18** - UI åº“
- **Tailwind CSS** - æ ·å¼æ¡†æ¶
- **Lucide React** - å›¾æ ‡åº“

#### åç«¯

- **Next.js API Routes** - RESTful API
- **NextAuth.js** - è®¤è¯ç³»ç»Ÿ
- **Prisma** - ORM
- **PostgreSQL** - å…³ç³»å‹æ•°æ®åº“
- **bcryptjs** - å¯†ç åŠ å¯†

#### AI æœåŠ¡

- **OpenAI GPT-3.5** - è¯„ä»·å†…å®¹ç”Ÿæˆ

### æ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Next.js åº”ç”¨ (Port 3000)           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  å‰ç«¯å±‚                                      â”‚
â”‚  â”œâ”€â”€ å…¬å…±é¡µé¢ï¼ˆ/, /login, /card/[slug]ï¼‰    â”‚
â”‚  â””â”€â”€ å—ä¿æŠ¤é¡µé¢ï¼ˆ/dashboardï¼‰               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  API å±‚                                      â”‚
â”‚  â”œâ”€â”€ /api/auth/* - è®¤è¯æ¥å£                 â”‚
â”‚  â”œâ”€â”€ /api/profile/* - é…ç½®ç®¡ç†              â”‚
â”‚  â””â”€â”€ /api/generate_review - AI ç”Ÿæˆ         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ä¸šåŠ¡é€»è¾‘å±‚                                  â”‚
â”‚  â”œâ”€â”€ Prisma ORM                             â”‚
â”‚  â””â”€â”€ NextAuth.js                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  æ•°æ®å±‚                                      â”‚
â”‚  â””â”€â”€ PostgreSQL æ•°æ®åº“                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### é¡¹ç›®ç»“æ„

```
review_app/
â”œâ”€â”€ app/                          # Next.js App Router
â”‚   â”œâ”€â”€ api/                      # API è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ auth/
â”‚   â”‚   â”‚   â”œâ”€â”€ [...nextauth]/   # NextAuth é…ç½®
â”‚   â”‚   â”‚   â””â”€â”€ register/        # æ³¨å†Œæ¥å£
â”‚   â”‚   â”œâ”€â”€ profile/             # é…ç½®ç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ route.js         # GET/PUT å½“å‰ç”¨æˆ·
â”‚   â”‚   â”‚   â””â”€â”€ [slug]/route.js # GET å…¬å¼€é…ç½®
â”‚   â”‚   â””â”€â”€ generate_review/     # AI ç”Ÿæˆè¯„ä»·
â”‚   â”œâ”€â”€ card/[slug]/             # åŠ¨æ€åç‰‡é¡µé¢
â”‚   â”œâ”€â”€ dashboard/               # åå°ç®¡ç†
â”‚   â”œâ”€â”€ login/                   # ç™»å½•æ³¨å†Œ
â”‚   â”œâ”€â”€ components/              # UI ç»„ä»¶
â”‚   â”œâ”€â”€ hooks/                   # è‡ªå®šä¹‰ Hooks
â”‚   â”œâ”€â”€ utils/                   # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ config/                  # é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ providers/               # Context Providers
â”‚   â”œâ”€â”€ layout.js                # æ ¹å¸ƒå±€
â”‚   â”œâ”€â”€ page.js                  # é¦–é¡µ
â”‚   â””â”€â”€ globals.css              # å…¨å±€æ ·å¼
â”œâ”€â”€ lib/                         # æ ¸å¿ƒåº“
â”‚   â”œâ”€â”€ prisma.js                # Prisma å®¢æˆ·ç«¯
â”‚   â””â”€â”€ auth.js                  # è®¤è¯å·¥å…·
â”œâ”€â”€ prisma/                      # æ•°æ®åº“
â”‚   â”œâ”€â”€ schema.prisma            # æ•°æ®æ¨¡å‹
â”‚   â””â”€â”€ seed.js                  # æµ‹è¯•æ•°æ®
â”œâ”€â”€ public/                      # é™æ€èµ„æº
â”‚   â””â”€â”€ icons/                   # å›¾æ ‡æ–‡ä»¶
â””â”€â”€ .env                         # ç¯å¢ƒå˜é‡
```

---

## åŠŸèƒ½ç‰¹æ€§

### 1. ç”¨æˆ·è®¤è¯ç³»ç»Ÿ

#### æ³¨å†ŒåŠŸèƒ½

- é‚®ç®± + å¯†ç æ³¨å†Œ
- è‡ªåŠ¨ç”Ÿæˆå”¯ä¸€ slug
- åˆ›å»ºé»˜è®¤é…ç½®
- å¯†ç åŠ å¯†å­˜å‚¨ï¼ˆbcryptï¼‰

#### ç™»å½•åŠŸèƒ½

- é‚®ç®± + å¯†ç ç™»å½•
- JWT ä¼šè¯ç®¡ç†
- è‡ªåŠ¨è·³è½¬åˆ° dashboard

#### ä¼šè¯ç®¡ç†

- åŸºäº JWT çš„æ— çŠ¶æ€ä¼šè¯
- å®‰å…¨çš„ Cookie å­˜å‚¨
- è‡ªåŠ¨ç»­æœŸæœºåˆ¶

### 2. åå°ç®¡ç†ç³»ç»Ÿ

#### åŸºæœ¬ä¿¡æ¯

- å…¬å¸åç§°
- Logo URL
- ç”µè¯å·ç 
- å…¬å¸åœ°å€
- è”ç³»é‚®ç®±

#### ç¤¾äº¤åª’ä½“ï¼ˆ7ä¸ªå¹³å°ï¼‰

- å¾®ä¿¡ ID
- Instagram
- Facebook
- TikTok
- å°çº¢ä¹¦
- Yelp
- Google

#### è¯„ä»·é“¾æ¥ï¼ˆ3ä¸ªå¹³å°ï¼‰

- Google Reviews
- Yelp Reviews
- Facebook Reviews

#### é…è‰²æ–¹æ¡ˆ

- ä¸»è‰²è°ƒï¼ˆPrimary Colorï¼‰
- æ¬¡è¦è‰²è°ƒï¼ˆSecondary Colorï¼‰
- å¼ºè°ƒè‰²ï¼ˆAccent Colorï¼‰
- å®æ—¶é¢„è§ˆ

#### æ˜¾ç¤ºæ§åˆ¶

- æ˜¾ç¤º/éšè—è”ç³»ä¿¡æ¯æ¨¡å—
- æ˜¾ç¤º/éšè—ç¤¾äº¤åª’ä½“æ¨¡å—
- æ˜¾ç¤º/éšè—è¯„ä»·æ¨¡å—

### 3. åŠ¨æ€åç‰‡ç³»ç»Ÿ

#### å”¯ä¸€é“¾æ¥

- æ ¼å¼ï¼š`/card/[slug]`
- ä¾‹å¦‚ï¼š`/card/john-abc123`

#### è‡ªå®šä¹‰å±•ç¤º

- ä½¿ç”¨å®¢æˆ·çš„å“ç‰Œé…è‰²
- å±•ç¤ºå®¢æˆ·çš„ Logo
- åŠ¨æ€åŠ è½½é…ç½®

#### äº¤äº’åŠŸèƒ½

- ä¿å­˜è”ç³»äººï¼ˆvCardï¼‰
- ä¸€é”®å…³æ³¨ç¤¾äº¤åª’ä½“
- åº”ç”¨æ·±é“¾æ¥è·³è½¬
- AI ç”Ÿæˆè¯„ä»·å†…å®¹

### 4. AI è¯„ä»·ç”Ÿæˆ

#### åŠŸèƒ½

- åŸºäº OpenAI GPT-3.5
- é’ˆå¯¹ä¸åŒå¹³å°ç”Ÿæˆå†…å®¹
- ä¸€é”®åˆ·æ–°é‡æ–°ç”Ÿæˆ
- å¤åˆ¶åˆ°å‰ªè´´æ¿

#### æ”¯æŒå¹³å°

- Google
- Yelp
- Facebook
- Instagram
- å°çº¢ä¹¦

---

## æ•°æ®åº“è®¾è®¡

### ER å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      User       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id (CUID)      â”‚ PK
â”‚ email          â”‚ UNIQUE
â”‚ password       â”‚
â”‚ slug           â”‚ UNIQUE
â”‚ createdAt      â”‚
â”‚ updatedAt      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â”‚ 1:1
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    Profile      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id (CUID)      â”‚ PK
â”‚ userId         â”‚ FK â†’ User.id
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ companyName    â”‚
â”‚ logoUrl        â”‚
â”‚ phone          â”‚
â”‚ address        â”‚
â”‚ email          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ wechatId       â”‚
â”‚ instagram      â”‚
â”‚ facebook       â”‚
â”‚ tiktok         â”‚
â”‚ xiaohongshu    â”‚
â”‚ yelp           â”‚
â”‚ google         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ googleReviewUrl     â”‚
â”‚ yelpReviewUrl       â”‚
â”‚ facebookReviewUrl   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ primaryColor   â”‚
â”‚ secondaryColor â”‚
â”‚ accentColor    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ showContact    â”‚
â”‚ showFollow     â”‚
â”‚ showReview     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ createdAt      â”‚
â”‚ updatedAt      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Prisma Schema

```prisma
model User {
  id            String   @id @default(cuid())
  email         String   @unique
  password      String
  slug          String   @unique
  createdAt     DateTime @default(now())
  updatedAt     DateTime @updatedAt
  profile       Profile?
}

model Profile {
  id                  String   @id @default(cuid())
  userId              String   @unique
  user                User     @relation(fields: [userId], references: [id], onDelete: Cascade)

  // åŸºæœ¬ä¿¡æ¯
  companyName         String   @default("æˆ‘çš„å…¬å¸")
  logoUrl             String?
  phone               String?
  address             String?
  email               String?

  // ç¤¾äº¤åª’ä½“
  wechatId            String?
  instagram           String?
  facebook            String?
  tiktok              String?
  xiaohongshu         String?
  yelp                String?
  google              String?

  // è¯„ä»·é“¾æ¥
  googleReviewUrl     String?
  yelpReviewUrl       String?
  facebookReviewUrl   String?

  // é…è‰²æ–¹æ¡ˆ
  primaryColor        String   @default("#7c3aed")
  secondaryColor      String   @default("#ec4899")
  accentColor         String   @default("#3b82f6")

  // æ˜¾ç¤ºæ§åˆ¶
  showContact         Boolean  @default(true)
  showFollow          Boolean  @default(true)
  showReview          Boolean  @default(true)

  createdAt           DateTime @default(now())
  updatedAt           DateTime @updatedAt

  @@index([userId])
}
```

### ç´¢å¼•ç­–ç•¥

- `User.email` - å”¯ä¸€ç´¢å¼•ï¼ˆç™»å½•æŸ¥è¯¢ï¼‰
- `User.slug` - å”¯ä¸€ç´¢å¼•ï¼ˆåç‰‡è®¿é—®ï¼‰
- `Profile.userId` - æ™®é€šç´¢å¼•ï¼ˆå…³è”æŸ¥è¯¢ï¼‰

---

## API æ¥å£

### è®¤è¯æ¥å£

#### æ³¨å†Œç”¨æˆ·

```
POST /api/auth/register
Content-Type: application/json

Request:
{
  "email": "user@example.com",
  "password": "password123"
}

Response: 201
{
  "message": "æ³¨å†ŒæˆåŠŸ",
  "user": {
    "id": "...",
    "email": "user@example.com",
    "slug": "user-abc123"
  }
}
```

#### ç™»å½•

```
POST /api/auth/[...nextauth]
Content-Type: application/json

Request:
{
  "email": "user@example.com",
  "password": "password123"
}

Response: 200
{
  "user": {
    "id": "...",
    "email": "user@example.com",
    "slug": "user-abc123"
  }
}
```

#### è·å–å½“å‰ç”¨æˆ·

```
GET /api/auth/[...nextauth]/session

Response: 200
{
  "user": {
    "id": "...",
    "email": "user@example.com",
    "slug": "user-abc123"
  }
}
```

### é…ç½®ç®¡ç†æ¥å£

#### è·å–å½“å‰ç”¨æˆ·é…ç½®

```
GET /api/profile
Authorization: Required (Session)

Response: 200
{
  "user": {
    "id": "...",
    "email": "...",
    "slug": "..."
  },
  "profile": {
    "id": "...",
    "companyName": "...",
    "logoUrl": "...",
    // ... æ‰€æœ‰é…ç½®å­—æ®µ
  }
}
```

#### æ›´æ–°é…ç½®

```
PUT /api/profile
Authorization: Required (Session)
Content-Type: application/json

Request:
{
  "companyName": "My Company",
  "phone": "123-456-7890",
  "primaryColor": "#7c3aed",
  // ... å…¶ä»–å­—æ®µ
}

Response: 200
{
  "message": "æ›´æ–°æˆåŠŸ",
  "profile": { ... }
}
```

#### è·å–å…¬å¼€é…ç½®

```
GET /api/profile/[slug]

Response: 200
{
  "profile": {
    "companyName": "...",
    "logoUrl": "...",
    // ... å…¬å¼€å­—æ®µï¼ˆä¸åŒ…å«æ•æ„Ÿä¿¡æ¯ï¼‰
  }
}
```

### AI ç”Ÿæˆæ¥å£

#### ç”Ÿæˆè¯„ä»·

```
POST /api/generate_review
Content-Type: application/json

Request:
{
  "platform": "google"
}

Response: 200
{
  "review": "Great service! ğŸŒŸ Highly recommend..."
}
```

---

## å‰ç«¯ç»„ä»¶

### é¡µé¢ç»„ä»¶

#### 1. ç™»å½•é¡µé¢ (`/login`)

```jsx
- åŒæ ‡ç­¾åˆ‡æ¢ï¼ˆç™»å½•/æ³¨å†Œï¼‰
- è¡¨å•éªŒè¯
- é”™è¯¯æç¤º
- è‡ªåŠ¨ç™»å½•è·³è½¬
```

#### 2. åå°ç®¡ç† (`/dashboard`)

```jsx
- 5ä¸ªé…ç½®æ ‡ç­¾
  - åŸºæœ¬ä¿¡æ¯
  - ç¤¾äº¤åª’ä½“
  - è¯„ä»·é“¾æ¥
  - æ ·å¼é…ç½®
  - æ˜¾ç¤ºè®¾ç½®
- å®æ—¶ä¿å­˜
- åç‰‡é“¾æ¥å±•ç¤º
- é¢„è§ˆæŒ‰é’®
```

#### 3. åŠ¨æ€åç‰‡ (`/card/[slug]`)

```jsx
- åŠ¨æ€åŠ è½½é…ç½®
- è‡ªå®šä¹‰é…è‰²
- ä¿å­˜è”ç³»äºº
- ç¤¾äº¤åª’ä½“å…³æ³¨
- AI è¯„ä»·ç”Ÿæˆ
```

### UI ç»„ä»¶

#### Header.jsx

```jsx
- å…¬å¸åç§°/Logo å±•ç¤º
- è”ç³»ä¿¡æ¯æ˜¾ç¤º
- å“åº”å¼è®¾è®¡
```

#### SaveContactButton.jsx

```jsx
- ç”Ÿæˆ vCard
- ä¸€é”®ä¿å­˜
- è§¦è§‰åé¦ˆ
```

#### FollowSection.jsx

```jsx
-ç¤¾äº¤åª’ä½“æŒ‰é’®ç½‘æ ¼ - åº”ç”¨æ·±é“¾æ¥ - é™çº§åˆ°ç½‘é¡µ;
```

#### ReviewSection.jsx

```jsx
-è¯„ä»·å¹³å°å¡ç‰‡ - æ‰“å¼€è¯„ä»·æ¨¡æ€æ¡†;
```

#### ReviewModal.jsx

```jsx
- AI ç”Ÿæˆå†…å®¹
- åˆ·æ–°æŒ‰é’®
- å¤åˆ¶åŠŸèƒ½
- å‘å¸ƒåˆ°å¹³å°
```

### è‡ªå®šä¹‰ Hooks

#### useAuth.js

```javascript
// è®¤è¯çŠ¶æ€ç®¡ç†
const { user, login, logout } = useAuth();
```

#### useHapticFeedback.js

```javascript
// è§¦è§‰åé¦ˆ
const { triggerHaptic } = useHapticFeedback();
```

#### useNetworkStatus.js

```javascript
// ç½‘ç»œçŠ¶æ€ç›‘æµ‹
const { isOnline, showOfflineWarning } = useNetworkStatus();
```

#### useReviewGenerator.js

```javascript
// AI è¯„ä»·ç”Ÿæˆ
const { reviewText, isLoading, generateReview } = useReviewGenerator();
```

#### useAppOpener.js

```javascript
// åº”ç”¨è·³è½¬
const { openApp } = useAppOpener();
```

---

## ç¯å¢ƒé…ç½®

### å¿…éœ€å˜é‡

```bash
# æ•°æ®åº“
DATABASE_URL="postgresql://user:pass@host:5432/db"

# NextAuth
NEXTAUTH_URL="http://localhost:3000"
NEXTAUTH_SECRET="your-secret-key"  # ç”Ÿæˆ: openssl rand -base64 32

# OpenAI (å¯é€‰)
OPENAI_API_KEY="sk-..."
```

### å¼€å‘ç¯å¢ƒ

```bash
# .env.local
NODE_ENV=development
DATABASE_URL="postgresql://localhost:5432/review_app_dev"
NEXTAUTH_URL="http://localhost:3000"
NEXTAUTH_SECRET="dev-secret-key"
```

### ç”Ÿäº§ç¯å¢ƒ

```bash
NODE_ENV=production
DATABASE_URL="your-production-db-url"
NEXTAUTH_URL="https://yourdomain.com"
NEXTAUTH_SECRET="strong-production-secret"
```

### æ•°æ®åº“é€‰é¡¹

| æœåŠ¡            | ç±»å‹       | å…è´¹é¢åº¦ | æ¨èåº¦     |
| --------------- | ---------- | -------- | ---------- |
| Supabase        | PostgreSQL | 500MB    | â­â­â­â­â­ |
| Railway         | PostgreSQL | $5/æœˆ    | â­â­â­â­   |
| Neon            | PostgreSQL | æ— é™     | â­â­â­â­   |
| Vercel Postgres | PostgreSQL | 256MB    | â­â­â­     |

---

## å¼€å‘æŒ‡å—

### æœ¬åœ°å¼€å‘

```bash
# 1. å®‰è£…ä¾èµ–
npm install

# 2. é…ç½®ç¯å¢ƒå˜é‡
cp .env.example .env
# ç¼–è¾‘ .env æ–‡ä»¶

# 3. åˆå§‹åŒ–æ•°æ®åº“
npm run db:migrate

# 4. åˆ›å»ºæµ‹è¯•æ•°æ®
npm run db:seed

# 5. å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev
```

### å¼€å‘å‘½ä»¤

```bash
# å¼€å‘
npm run dev              # å¯åŠ¨å¼€å‘æœåŠ¡å™¨

# æ•°æ®åº“
npm run db:migrate       # è¿è¡Œè¿ç§»
npm run db:push          # æ¨é€ schema
npm run db:studio        # æ‰“å¼€ Prisma Studio
npm run db:generate      # ç”Ÿæˆ Prisma Client
npm run db:seed          # åˆ›å»ºæµ‹è¯•æ•°æ®

# æ„å»º
npm run build            # æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run start            # å¯åŠ¨ç”Ÿäº§æœåŠ¡å™¨

# ä»£ç è´¨é‡
npm run lint             # ESLint æ£€æŸ¥
```

### æ·»åŠ æ–°åŠŸèƒ½

#### 1. æ·»åŠ æ•°æ®åº“å­—æ®µ

```bash
# 1. ä¿®æ”¹ prisma/schema.prisma
# 2. è¿è¡Œè¿ç§»
npm run db:migrate -- --name add_new_field

# 3. æ›´æ–° TypeScript ç±»å‹
npm run db:generate
```

#### 2. æ·»åŠ  API ç«¯ç‚¹

```javascript
// app/api/new-endpoint/route.js
export async function GET(request) {
  // å®ç°é€»è¾‘
}
```

#### 3. æ·»åŠ é¡µé¢

```javascript
// app/new-page/page.js
export default function NewPage() {
  return <div>New Page</div>;
}
```

### æµ‹è¯•

#### æ‰‹åŠ¨æµ‹è¯•æ¸…å•

- [ ] ç”¨æˆ·æ³¨å†Œ
- [ ] ç”¨æˆ·ç™»å½•
- [ ] é…ç½®ä¿å­˜
- [ ] åç‰‡è®¿é—®
- [ ] AI ç”Ÿæˆ
- [ ] ç§»åŠ¨ç«¯é€‚é…
- [ ] è·¨æµè§ˆå™¨å…¼å®¹

---

## å®‰å…¨è®¾è®¡

### å¯†ç å®‰å…¨

- **å“ˆå¸Œç®—æ³•**: bcrypt
- **ç›è½®æ•°**: 12 rounds
- **å­˜å‚¨**: åªå­˜å‚¨å“ˆå¸Œå€¼ï¼Œä¸å­˜å‚¨æ˜æ–‡

### ä¼šè¯å®‰å…¨

- **JWT Token**: æ— çŠ¶æ€ä¼šè¯ç®¡ç†
- **Cookie é…ç½®**:
  - `httpOnly: true` - é˜²æ­¢ XSS
  - `secure: true` - ä»… HTTPSï¼ˆç”Ÿäº§ï¼‰
  - `sameSite: 'lax'` - é˜²æ­¢ CSRF

### API å®‰å…¨

- **è®¤è¯ä¸­é—´ä»¶**: ä¿æŠ¤æ•æ„Ÿç«¯ç‚¹
- **è¾“å…¥éªŒè¯**: éªŒè¯æ‰€æœ‰ç”¨æˆ·è¾“å…¥
- **SQL æ³¨å…¥é˜²æŠ¤**: Prisma å‚æ•°åŒ–æŸ¥è¯¢
- **XSS é˜²æŠ¤**: React è‡ªåŠ¨è½¬ä¹‰

### ç¯å¢ƒå˜é‡å®‰å…¨

- æ•æ„Ÿä¿¡æ¯ä¸æäº¤ä»£ç åº“
- `.env` åœ¨ `.gitignore` ä¸­
- ç”Ÿäº§ç¯å¢ƒä½¿ç”¨ä¸åŒçš„å¯†é’¥

---

## å‰åç«¯åˆ†ç¦»æ–¹æ¡ˆ

### ä¸ºä»€ä¹ˆéœ€è¦åˆ†ç¦»ï¼Ÿ

å½“é¡¹ç›®éœ€è¦ï¼š

- æ”¯æŒå¤šä¸ªå®¢æˆ·ç«¯ï¼ˆWeb + Mobile Appï¼‰
- å‰åç«¯å›¢é˜Ÿç‹¬ç«‹å¼€å‘
- ç‹¬ç«‹æ‰©å±•å‰ç«¯æˆ–åç«¯
- API è¢«ç¬¬ä¸‰æ–¹è°ƒç”¨

### æ¶æ„å¯¹æ¯”

#### å½“å‰ï¼ˆå…¨æ ˆ Next.jsï¼‰

```
Next.js (Port 3000)
â”œâ”€â”€ å‰ç«¯ + åç«¯ + æ•°æ®åº“
â””â”€â”€ ç®€å•éƒ¨ç½²ï¼Œç»Ÿä¸€ä»£ç åº“
```

#### åˆ†ç¦»å

```
React å‰ç«¯ (3000) â†â†’ Express åç«¯ (4000) â†â†’ PostgreSQL
â”œâ”€â”€ ç‹¬ç«‹éƒ¨ç½²
â”œâ”€â”€ æŠ€æœ¯æ ˆçµæ´»
â””â”€â”€ API å¯å¤ç”¨
```

### æŠ€æœ¯æ ˆå˜åŒ–

| æ¨¡å— | å½“å‰           | åˆ†ç¦»å          |
| ---- | -------------- | --------------- |
| å‰ç«¯ | Next.js Pages  | React + Vite    |
| è·¯ç”± | Next.js Router | React Router    |
| åç«¯ | Next.js API    | Express.js      |
| è®¤è¯ | NextAuth.js    | Passport.js     |
| ä¼šè¯ | JWT (å†…ç½®)     | express-session |

### å®ç°å»ºè®®

å¦‚éœ€å‰åç«¯åˆ†ç¦»æ¶æ„ï¼Œå»ºè®®ï¼š

1. **åç«¯**: ä½¿ç”¨ Express.js + Prisma + Passport.js
2. **å‰ç«¯**: ä½¿ç”¨ React + Vite + Axios
3. **å‚è€ƒ**: æŸ¥çœ‹ä¸»é¡¹ç›®çš„ API è®¾è®¡å’Œæ•°æ®æ¨¡å‹

å¯ä»¥æ ¹æ®å½“å‰å…¨æ ˆæ¶æ„çš„ API æ¥å£è®¾è®¡æ¥å®ç°åˆ†ç¦»ç‰ˆæœ¬ã€‚

---

## æ€§èƒ½ä¼˜åŒ–

### æ•°æ®åº“ä¼˜åŒ–

- ä½¿ç”¨ç´¢å¼•åŠ é€ŸæŸ¥è¯¢
- Prisma è¿æ¥æ± ç®¡ç†
- æŸ¥è¯¢ä¼˜åŒ–ï¼ˆåªé€‰æ‹©éœ€è¦çš„å­—æ®µï¼‰

### å‰ç«¯ä¼˜åŒ–

- Next.js è‡ªåŠ¨ä»£ç åˆ†å‰²
- å›¾ç‰‡æ‡’åŠ è½½
- ç»„ä»¶æ‡’åŠ è½½
- Tailwind CSS æŒ‰éœ€åŠ è½½

### API ä¼˜åŒ–

- å“åº”ç¼“å­˜
- å‹ç¼©å“åº”æ•°æ®
- é™æµä¿æŠ¤

---

## å¸¸è§é—®é¢˜

### Q1: å¦‚ä½•é‡ç½®å¯†ç ï¼Ÿ

A: å½“å‰ç‰ˆæœ¬ä¸æ”¯æŒï¼Œéœ€è¦è”ç³»ç®¡ç†å‘˜æˆ–é€šè¿‡æ•°æ®åº“æ‰‹åŠ¨é‡ç½®ã€‚

### Q2: æ”¯æŒå¤šè¯­è¨€å—ï¼Ÿ

A: å½“å‰ä¸æ”¯æŒï¼Œå¯ä»¥é€šè¿‡æ·»åŠ  i18n å®ç°ã€‚

### Q3: å¯ä»¥è‡ªå®šä¹‰åŸŸåå—ï¼Ÿ

A: å¯ä»¥ï¼Œåœ¨éƒ¨ç½²å¹³å°é…ç½®è‡ªå®šä¹‰åŸŸåå³å¯ã€‚

### Q4: æ•°æ®å¦‚ä½•å¤‡ä»½ï¼Ÿ

A: ä½¿ç”¨æ•°æ®åº“æä¾›å•†çš„å¤‡ä»½åŠŸèƒ½ï¼Œæˆ–ä½¿ç”¨ `pg_dump` å¯¼å‡ºã€‚

### Q5: å¦‚ä½•å‡çº§ä¾èµ–ï¼Ÿ

```bash
npm outdated  # æŸ¥çœ‹è¿‡æ—¶ä¾èµ–
npm update    # æ›´æ–°ä¾èµ–
```

---

## æŠ€æœ¯æ”¯æŒ

### ç›¸å…³æ–‡æ¡£

- [Next.js æ–‡æ¡£](https://nextjs.org/docs)
- [Prisma æ–‡æ¡£](https://www.prisma.io/docs)
- [NextAuth.js æ–‡æ¡£](https://next-auth.js.org)
- [Tailwind CSS æ–‡æ¡£](https://tailwindcss.com/docs)

### ç¤¾åŒºèµ„æº

- Next.js Discord
- Prisma Slack
- Stack Overflow

---

**æ–‡æ¡£ç‰ˆæœ¬**: 1.0  
**æœ€åæ›´æ–°**: 2024å¹´10æœˆ  
**ç»´æŠ¤è€…**: é¡¹ç›®å›¢é˜Ÿ
